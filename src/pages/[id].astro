---
import Layout from "../layouts/Layout.astro";
import Post from "../components/Post.astro";
import { getCollection } from "astro:content";
import Header from "../components/Header.astro";

export async function getStaticPaths() {
  const posts = await getCollection("posts");
  console.log(posts);
  return posts.map((post) => ({
    params: { id: post.id },
    props: {
      title: post.data.title,
      description: post.data.description,
      date: post.data.date,
      img: post.data.img,
    },
  }));
}

const { title, description, date, img } = Astro.props;
---

<Layout>
  <Header />
  <section class="flex items-center justify-center">
    <article
      class="w-4/5 lg:w-3/5 flex flex-col gap-8 items-center justify-center"
    >
      <img src={img} alt={title} class="w-72 h-auto rounded-lg shadow-lg" />
      <div class="flex flex-col gap-4">
        <h1 class="text-3xl font-bold leading-8">{title}</h1>
        <p class="text-lg leading-8">{description}</p>
        <p class="text-sm text-gray-500">Publicado el {date}</p>
      </div>
    </article>
  </section>
</Layout>
